;; -*-lisp-*-
(in-package :stumpwm)

;; Turn on the modeline
(unless (head-mode-line (current-head))
  (toggle-mode-line (current-screen) (current-head)))

(load "/usr/share/common-lisp/source/stumpwm/contrib/net.lisp")
(load "/usr/share/common-lisp/source/stumpwm/contrib/cpu.lisp")

;; Show time, cpu usage and network traffic in the modeline
(setf *screen-mode-line-format*
      (list '(:eval (run-shell-command "LOCALE_ALL=C date '+%R, %F'|tr -d [:cntrl:]" t)) " | %t | %c| %l | [^B%n^b] %W"))
